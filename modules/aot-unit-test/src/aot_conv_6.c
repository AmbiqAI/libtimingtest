/******************************************************************************
 * @file        aot_conv_6.c
 * @brief       Autogenerated AOT CONV_2D kernel
 * @details     This file was generated by HeliosAOT v0.2.2 on 2025-06-04.
 *   This kernel represents node #6 in the corresponding graph.
 *
 * @date        2025-06-04
 *
 * @copyright
 *   © 2025 Ambiq. All rights reserved.
 *
 *   This generated C module is licensed for use **only** on Ambiq hardware
 *   incorporating Ambiq’s sub-threshold power optimized technology.
 *   Any other use is strictly prohibited.
 *
 *   See “LICENSE.txt” at the root of this distribution for full terms.
 *
 * @note        Do not edit this file—any changes will be overwritten.
 ******************************************************************************/

#include <stdalign.h>
#include "ns_ambiqsuite_harness.h"
#include "arm_nnfunctions.h"
#include "arm_nnsupportfunctions.h"
#include "aot_conv_6.h"

#if defined(ARM_MATH_MVEI)
#define SCRATCH_BUFFER_SIZE 0
#elif defined(ARM_MATH_DSP)
#define SCRATCH_BUFFER_SIZE 128
#else
#define SCRATCH_BUFFER_SIZE 0
#endif

#define HAS_BIAS 1

// Input dimensions: input shape is [1, H_IN, W_IN, C_IN]
static const cmsis_nn_dims conv_6_input_dims = { .n = 1, .h = 24, .w = 24, .c = 32 };

// Filter dimensions: weights shape is [C_OUT, H_FILT, W_FILT, C_IN].
static const cmsis_nn_dims conv_6_filter_dims = { .n =  32, .h = 1, .w = 1, .c = 32 };

// Bias dimensions: bias shape is [1, 1, 1, C_OUT].
static const cmsis_nn_dims conv_6_bias_dims = { .n = 1, .h = 1, .w = 1, .c = 32 };

// Output dimensions: output shape is [1, H_OUT, W_OUT, C_OUT].
static const cmsis_nn_dims conv_6_output_dims = { .n = 1, .h = 24, .w = 24, .c = 32 };

// Quantization parameters (per-channel quantization)
static const int32_t conv_6_multiplier[32] = {
  1710192640, 2083168768, 1168689920, 2138090880, 1425936768, 1592508928, 1726876032, 1152568832, 2081918336, 1172171904, 1341608576, 2035192576, 1353299328, 1113353600, 2033075072, 1287248512, 2142049408, 1588358272, 1861983232, 1328499584, 
  1962083328, 1585945856, 1827176320, 1098434688, 1918718720, 1237596928, 1904740864, 1492824192, 1332733184, 1202184960, 1103384704, 1243885696
};
static const int32_t conv_6_shift[32] = {
  -8, -7, -8, -8, -8, -8, -8, -6, -8, -8, -7, -8, -7, -7, -7, -6, -8, -8, -8, -7, 
  -8, -8, -7, -7, -8, -7, -8, -7, -7, -6, -6, -7
};

// Offsets and activation parameters.
static const int32_t conv_6_input_zero_point = -128;
static const int32_t conv_6_output_zero_point = -128;

// Weight and bias data.
alignas(16) static NS_PUT_IN_TCM int8_t conv_6_weights[] = {
  -46, 1, 13, -9, 4, -12, 33, -54, 17, -21, -28, 2, 127, 27, 10, 12, 2, 19, 55, 12, 
  -8, -21, 60, 1, -23, -5, -70, -19, 1, -1, -27, -32, 19, -13, -4, 23, -43, -41, -1, -43, 
  127, -30, 26, -6, -8, -66, 21, -41, 19, 10, 103, 3, 13, 14, 33, 21, -47, -7, 24, -68, 
  -6, -70, -35, 10, 44, 49, -6, 3, -33, 19, 47, -25, 12, 50, 20, 20, 21, -25, 36, -38, 
  85, 10, 37, -2, 44, -10, 0, 14, -18, 26, 6, -17, -10, 74, -127, 21, -3, -19, -72, -7, 
  72, -46, -10, 63, 102, -125, 2, -50, 31, 45, 23, -6, 7, 127, -48, 19, 2, -121, -32, -25, 
  -26, 43, -8, -27, -35, 78, -7, -27, -32, -20, 34, 71, -88, 8, -33, -20, 3, -40, -26, -11, 
  20, 6, -8, 127, -18, -23, -4, 6, -2, 102, 7, 24, 47, 12, 13, 3, 17, -15, -7, -31, 
  99, 36, -27, 27, 39, -3, -33, 3, -4, -112, 5, 4, -20, 127, -12, 29, 57, -64, 29, 5, 
  5, 69, 53, 25, 54, -1, -68, -42, -63, 41, 57, 28, -32, 37, -43, 59, -104, 46, 39, -92, 
  -47, 111, 0, -27, 84, -14, 15, -26, 82, 17, 26, 49, 60, -26, 3, 13, -106, 67, 59, -13, 
  -69, 5, -127, 25, 46, 20, -3, -20, 21, -5, 46, -28, 47, -12, -15, 58, 6, 35, -24, -1, 
  -1, -9, 7, 127, -3, 58, 9, 29, -37, 16, 41, -30, 14, 35, -11, -10, 72, -35, 62, 77, 
  -19, 18, 25, 69, -14, -29, 87, 23, -101, 15, -30, -40, -37, 41, -8, -70, 6, 37, 26, 0, 
  -25, -1, 12, 101, 31, -28, -127, 29, -4, 3, -49, 81, 3, 13, -4, -9, -10, 23, -31, -20, 
  127, 11, -20, 17, 32, -22, 13, -1, -7, -20, -81, 37, 46, 16, -31, -92, 0, 19, -1, -29, 
  34, -100, 58, 105, 29, 56, -48, -65, -23, 59, 6, -127, -3, -7, 25, -71, 23, 33, -67, -43, 
  -54, 55, -56, -75, 54, -20, -35, 14, -22, -32, -21, 37, 114, -51, -26, -44, 59, -3, -55, 19, 
  41, 6, 65, -28, 79, -127, 23, -81, -34, 44, 15, 56, -89, -62, 46, -12, -22, 31, -5, -63, 
  -34, -14, -53, 11, 30, 56, 0, -39, -30, -91, -14, -21, -72, -10, -21, 9, -2, -4, -19, -25, 
  -3, 127, -55, 64, -12, -28, -31, -30, 49, 54, 90, -21, -7, -26, 29, -6, 45, -9, 3, -15, 
  27, 58, -14, 22, -32, 81, 24, -35, -32, 14, -28, 15, 39, -6, -18, 42, -19, -2, 30, 75, 
  15, 85, -27, -30, 127, 31, 30, 17, 2, 1, -5, 102, 24, -52, 127, 30, 26, -59, 91, 13, 
  -82, 52, 25, -14, -21, 7, -26, -10, -24, 5, -68, -26, 2, 15, 115, -80, -45, 5, 92, -91, 
  57, -35, 3, -15, -6, -4, -1, -52, -18, -16, -10, -2, 47, -43, 16, 3, 127, -23, -35, 17, 
  -19, -23, -69, 30, 14, 34, 22, 0, -11, 39, 4, -39, -6, 41, 3, -32, 5, -24, -10, -66, 
  -8, -43, 23, -61, -19, 23, 16, 11, -93, 15, 127, -29, 19, 79, 18, 37, -19, -29, -29, -111, 
  14, 94, -11, 28, 11, 69, -22, 42, 27, -2, -10, -2, -76, -29, 23, -11, -16, 11, 81, -2, 
  -27, -17, -56, 0, 127, 21, -19, 5, -1, -1, 26, 43, -45, -19, -73, -3, -1, -88, -37, -31, 
  22, 81, -24, 4, 58, 64, -18, 34, -20, -42, -37, 30, 18, 57, 18, -70, -16, -13, -127, -51, 
  -12, -114, -4, -25, 41, -22, -120, 41, 3, 22, -3, -3, -37, -35, -52, -1, -29, 2, -35, -52, 
  -22, 30, 1, 93, -85, -50, 70, 1, 9, 37, -57, 127, 79, -7, 37, 26, -21, 102, 104, 17, 
  66, 42, -4, -13, 26, 69, -104, 16, 23, -36, -49, -28, -83, -76, 28, 44, -19, -30, -74, 50, 
  51, 99, 17, -35, -10, -54, 2, 5, -33, 127, 43, 97, 20, -14, 89, -92, -61, 125, -46, 3, 
  -53, -16, 24, 24, -127, -8, 19, 35, 66, 33, -49, 42, -6, -3, -115, 2, -63, 16, 49, -6, 
  -17, 47, 0, -38, 35, 24, -9, -61, -47, 11, -2, -19, -6, 58, 9, 4, -27, -44, 7, -41, 
  15, 127, 0, 24, 36, -42, 26, -20, -35, -33, 118, 45, -23, -2, 13, 17, -32, -44, 37, 63, 
  3, 92, 103, -51, -69, -24, 9, 110, -36, 10, -25, 38, -50, -127, -30, 11, -72, 70, -46, -45, 
  8, -65, 4, -52, 69, -21, 53, -124, 86, -124, 15, -18, 45, -35, -117, 32, -33, -107, -39, -71, 
  23, 100, 1, 33, -6, 127, -77, -46, -95, 58, -43, -50, 44, -19, -34, 25, -41, -35, 50, -47, 
  -61, 33, -58, -12, -127, -13, 8, 18, 6, -11, -42, -23, -27, 27, 12, 69, 2, 49, 24, -4, 
  39, 2, -23, -7, -40, 6, 33, -34, 21, 33, 6, -10, -56, -29, 41, 36, -37, -30, 0, -52, 
  -38, 25, 3, -16, 127, 28, -31, 90, -3, -23, -107, 25, -20, 54, 70, -46, 58, 82, -106, -123, 
  4, -68, -47, 58, -36, -27, 118, 8, -44, -78, 43, -69, 3, 73, 43, -4, -14, 91, -7, 28, 
  34, 17, -18, -6, -29, 10, 12, 98, -28, 91, -22, 127, -18, 10, -46, -28, -37, 76, -8, 0, 
  9, 38, 96, 25, -7, -43, 21, 30, -2, 34, -22, -51, -20, 32, -3, 127, 24, -37, -28, -44, 
  9, -28, -8, -17, 5, 23, 13, -75, -24, -21, 35, 1, -21, 105, 127, 38, -15, -7, -15, 61, 
  53, 6, 4, 58, -35, -60, -27, 8, -11, -41, 40, 114, -84, 15, -58, -2, 2, 7, 20, -74, 
  49, -30, 21, 32, 7, -12, 29, 8, 8, 6, 109, -21, -20, 7, 42, -42, 53, -30, -3, -18, 
  -32, -13, -55, -13, -83, -46, -16, 3, -24, -26, -127, -10, -49, -45, 11, -51, -16, -79, 63, 19, 
  -41, 77, -4, 92, 16, -25, -44, -4, -7, -40, -37, -10, -11, -4, -6, -30, 34, 26, -5, -28, 
  127, 3, -17, -65
};

#if HAS_BIAS
alignas(16) static NS_PUT_IN_TCM int32_t conv_6_bias[] = {
  -5126, 3473, 6204, 2309, 3709, 1513, -717, -2251, 3247, 4328, 3538, 3492, 2294, -2112, -261, 946, 4008, 7364, 8074, -1135, 
  2049, 6646, -2086, 1950, 1415, 5098, 3866, -2008, -438, -2822, 4983, 2993
};
#else
static NS_PUT_IN_TCM int32_t *conv_6_bias = NULL;
#endif


alignas(16) static NS_PUT_IN_TCM int8_t conv_6_scratch_buffer[SCRATCH_BUFFER_SIZE];

static cmsis_nn_context conv_6_context = {
    .buf = conv_6_scratch_buffer,
    .size = sizeof(conv_6_scratch_buffer),
};

const cmsis_nn_per_channel_quant_params conv_6_quant_params = {
    .multiplier = (int32_t*)conv_6_multiplier,
    .shift = (int32_t*)conv_6_shift,
};


const cmsis_nn_conv_params conv_6_conv_params = {
    .input_offset = -conv_6_input_zero_point,
    .output_offset = conv_6_output_zero_point,
    .stride.w = 1,
    .stride.h = 1,
    .padding.w = 0,
    .padding.h = 0,
    .dilation.w = 1,
    .dilation.h = 1,
    .activation.min = -128,
    .activation.max = 127,
};

int32_t aot_conv_6_init(void)
{
    return 0;
}

int32_t aot_conv_6_run(const int8_t* __restrict input, int8_t* __restrict output)
{

    return arm_convolve_wrapper_s8(
        &conv_6_context,
        &conv_6_conv_params,
        &conv_6_quant_params,
        &conv_6_input_dims,
        input,
        &conv_6_filter_dims,
        conv_6_weights,
        &conv_6_bias_dims,
        conv_6_bias,
        &conv_6_output_dims,
        output
    );

}
