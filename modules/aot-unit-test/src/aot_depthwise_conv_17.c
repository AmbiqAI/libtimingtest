/******************************************************************************
 * @file        aot_depthwise_conv_17.c
 * @brief       Autogenerated AOT DEPTHWISE_CONV_2D kernel
 * @details     This file was generated by HeliosAOT v0.2.2 on 2025-06-04.
 *   This kernel represents node #17 in the corresponding graph.
 *
 * @date        2025-06-04
 *
 * @copyright
 *   © 2025 Ambiq. All rights reserved.
 *
 *   This generated C module is licensed for use **only** on Ambiq hardware
 *   incorporating Ambiq’s sub-threshold power optimized technology.
 *   Any other use is strictly prohibited.
 *
 *   See “LICENSE.txt” at the root of this distribution for full terms.
 *
 * @note        Do not edit this file—any changes will be overwritten.
 ******************************************************************************/

#include <stdalign.h>
#include "ns_ambiqsuite_harness.h"
#include "arm_nnfunctions.h"
#include "arm_nnsupportfunctions.h"
#include "aot_depthwise_conv_17.h"

#if defined(ARM_MATH_MVEI)
#define SCRATCH_BUFFER_SIZE 4464
#elif defined(ARM_MATH_DSP)
#define SCRATCH_BUFFER_SIZE 0
#else
#define SCRATCH_BUFFER_SIZE 0
#endif

#define HAS_BIAS 1

// Input dimensions: input shape is [1, H_IN, W_IN, C_IN]
static const cmsis_nn_dims dw_17_input_dims = { .n = 1, .h = 6, .w = 6, .c = 128 };

// Filter dimensions: weights shape is [1, H_FILT, W_FILT, C_OUT].
static const cmsis_nn_dims dw_17_filter_dims = { .n = 1, .h = 3, .w = 3, .c = 128 };

// Bias dimensions: bias shape is [1, 1, 1, C_OUT].
static const cmsis_nn_dims dw_17_bias_dims = { .n = 1, .h = 1, .w = 1, .c = 128 };

// Output dimensions: output shape is [1, H_OUT, W_OUT, C_OUT].
static const cmsis_nn_dims dw_17_output_dims = { .n = 1, .h = 6, .w = 6, .c = 128 };

// Quantization parameters (per-channel quantization)
static const int32_t dw_17_multiplier[128] = {
  1996196912, 1503613224, 1756614152, 2045953848, 2043531997, 1751796027, 1229128620, 1658230023, 1839435291, 1215018123, 1729158019, 1185756969, 1843155675, 1554004167, 1135002378, 1584741044, 1685453610, 2118123042, 1279626446, 1875378160, 
  1912751775, 1667325929, 1413749934, 1396631152, 1440048275, 1558361398, 1983165127, 1684379964, 1913714709, 1278883703, 1176246878, 1329186422, 1365368758, 1547667195, 1215465177, 1330520417, 1232781662, 1339319398, 1954306050, 1401753244, 
  1185288539, 1603736514, 1168135900, 1984795058, 1320991667, 2129832200, 1728582582, 1383906918, 1645527413, 1648144989, 1479670010, 2042899968, 1336628919, 2075308170, 1171992080, 2130459657, 1243945903, 2145256922, 1744381949, 1808707063, 
  1528429045, 1590024510, 1956938330, 1295305586, 1539044292, 1586862141, 1104534993, 1425788760, 1624824167, 1826793103, 1722569594, 1301197975, 1395606561, 1404714822, 1478547804, 1469714718, 1382473577, 1214354215, 2096271023, 2014751630, 
  1817237788, 1829877257, 1136343169, 1504821678, 1454187068, 1736719755, 1593177118, 1381243252, 1471283732, 1347942178, 1877792969, 1258215920, 1885765184, 1366510735, 2035091721, 1347300634, 1393622743, 1102723300, 1264552274, 1073780817, 
  1411667636, 1454019886, 1414882026, 1550844145, 1593508764, 1628798227, 1127339443, 1769817814, 1751332910, 1391032351, 1216815607, 1504108468, 1345543186, 1152662494, 1255491461, 1410699266, 1630283835, 2135450401, 1743550982, 1399263680, 
  1752584982, 1744213655, 1701028956, 2032013375, 1879108059, 1913903514, 1509983805, 1452192994
};
static const int32_t dw_17_shift[128] = {
  -4, -4, -5, -4, -4, -5, -3, -6, -5, -4, -4, -4, -4, -4, -6, -7, -7, -5, -4, -5, 
  -4, -4, -4, -4, -4, -4, -5, -7, -4, -4, -4, -6, -4, -4, -6, -4, -4, -4, -4, -4, 
  -3, -4, -4, -5, -4, -5, -4, -4, -7, -7, -7, -5, -3, -5, -3, -5, -3, -5, -4, -4, 
  -6, -4, -5, -4, -5, -5, -4, -6, -4, -4, -4, -7, -4, -4, -4, -4, -4, -3, -7, -5, 
  -8, -7, -3, -7, -4, -7, -7, -5, -7, -4, -7, -5, -5, -4, -4, -4, -4, -4, -7, -3, 
  -5, -7, -5, -4, -4, -4, -3, -5, -7, -7, -3, -5, -4, -4, -7, -6, -4, -5, -5, -6, 
  -4, -4, -4, -5, -4, -4, -7, -7
};

// Offsets and activation parameters.
static const int32_t dw_17_input_zero_point = -128;
static const int32_t dw_17_output_zero_point = -128;


// Weight and bias data.
alignas(16) static NS_PUT_IN_TCM int8_t dw_17_weights[] = {
  -127, -127, -38, -22, -75, -127, -86, 127, -32, -16, -32, -52, -13, -127, 127, 20, 127, 9, -36, -100, 
  1, 2, -127, -24, -121, -27, -102, -22, -83, -14, 20, 20, -7, -37, -127, -48, 14, 16, 23, -127, 
  20, 2, -85, -127, -127, -117, 8, -93, -4, -54, 58, 39, -14, -28, -38, 33, -29, -118, 15, -6, 
  -10, -127, 39, -127, -41, -44, -26, -14, -20, 29, 3, 6, 3, 3, -29, -16, -17, -13, -30, -55, 
  -127, 106, 12, 30, -92, -79, 29, -5, -39, -38, 26, 20, -62, 2, -10, -74, 21, -1, 27, 8, 
  -32, -61, -79, -81, -42, 9, -91, 63, 57, 44, -47, -109, -89, -28, 6, 40, -75, -24, -36, 33, 
  -35, -127, 6, -32, -41, -37, 106, 1, -16, -116, -21, -6, -127, -84, -127, 14, -26, 4, -94, 4, 
  -63, -13, 10, 14, 65, -37, 0, -127, 1, -6, -127, -9, 4, 0, -45, 127, 20, -127, -80, 11, 
  -5, -127, 104, 1, 1, -45, -23, -66, -46, 3, -127, -90, -44, -127, -7, -6, 12, 125, 55, -1, 
  8, 26, -127, -90, -105, -127, -9, 16, 14, -45, -40, -83, -127, -45, -102, -11, 6, -12, -127, 111, 
  -75, -2, -42, -127, 22, -90, -43, -7, -126, 35, -80, 127, -73, -14, 53, -46, 29, -19, 9, -48, 
  -127, -45, 15, 9, -39, 12, 127, -21, -62, -1, -85, -127, -39, -21, -76, -42, 127, 54, -2, -113, 
  -127, 15, 17, 45, -13, 15, 40, 73, 22, -9, -32, -33, -9, -26, 59, -19, -5, -107, -55, 7, 
  -66, -15, -40, 89, 9, -16, 60, 4, -127, 6, 6, -3, -21, -78, 1, -116, -42, 13, -82, -13, 
  2, 0, -41, 117, -32, -16, -26, 30, -97, -6, 48, -70, -127, 19, -84, -88, -96, -114, -119, -51, 
  2, -96, -35, 15, -8, -17, 0, -34, -40, -13, -26, -45, -127, -108, -127, -83, -7, -55, -68, -33, 
  -63, 13, -69, -38, -25, -127, -70, 7, 2, -22, -127, -108, -40, -127, 2, -39, 3, 38, -127, 10, 
  1, 14, -120, -70, 103, 12, 40, -87, -115, -127, -27, -7, -9, -127, 63, -127, -78, 19, 35, -101, 
  -127, -7, 21, -20, -62, 54, 11, 17, -93, -19, 47, -47, -1, 4, -17, -93, -127, -51, -20, 13, 
  14, 5, -37, -20, -11, 10, -3, 7, 2, -9, 10, 9, -42, -70, -127, -96, -29, -46, 61, -126, 
  85, 1, 10, -73, 6, 24, -35, -127, -127, 14, -127, 9, -20, -15, 23, 18, 18, 11, -101, -2, 
  -77, -34, -7, -83, 18, -14, 64, 6, -35, 36, -12, -127, 94, -111, -51, -58, 16, -4, -106, -88, 
  13, -10, -40, -18, 0, 13, 6, -58, -117, -108, -127, 32, -47, -72, 2, 114, -105, -127, -5, 18, 
  -47, 13, -127, -21, -74, 127, 9, 1, -50, -69, 83, 36, -20, -127, 127, -86, 47, -6, -10, -5, 
  -4, -10, 9, -5, 26, -40, -127, 13, -4, -33, -127, -67, 98, 56, -127, 43, 18, -127, 127, 45, 
  -118, -99, -106, -11, -60, -50, -127, 29, -36, -127, 127, 26, 1, -37, -118, 3, 6, -17, 1, 15, 
  -8, -127, -78, -127, 16, 5, 4, -127, 35, -127, -4, 0, -17, -6, 25, -59, -55, -17, -70, 120, 
  -56, -56, -111, -7, -58, -79, 37, -127, -4, 3, -68, -93, -56, -23, -120, -15, 2, -62, 23, -12, 
  23, 41, -107, -60, -7, -86, -53, -127, -10, -61, 24, -42, -12, -36, 7, 24, -37, -121, -40, 37, 
  -15, -83, 9, 127, -15, 12, -47, -30, -8, 7, -12, 45, -22, 0, -25, 114, -79, -5, 0, 9, 
  21, -12, 45, -34, -72, -27, -5, -14, -127, -17, -8, -2, 9, 34, -49, -29, 24, -75, -101, -127, 
  126, 127, -55, -71, -73, -31, 88, 2, 0, -127, -96, 23, -15, -37, -54, -127, -1, -23, 10, 26, 
  3, 25, -127, -12, 13, 26, -3, -14, 9, -18, -19, 17, -38, 6, 20, -95, 36, -36, -127, 27, 
  -12, -92, -58, 8, 12, -14, 13, 19, -113, 23, -10, 40, -127, -18, 23, -127, 29, -41, -27, -88, 
  -127, -127, -9, -73, 5, -52, -16, 18, 86, -107, -66, 56, -127, 27, 15, 31, -42, -127, -36, -127, 
  2, 16, -120, -13, -63, 11, -91, -18, 21, -105, -34, 13, 8, -70, -120, -9, -105, -35, 82, -24, 
  41, 6, -72, 64, 35, 9, -105, -18, 127, -23, 9, 13, -18, 10, -54, 9, -29, 19, -28, -66, 
  -56, 63, -64, 9, -50, -127, -85, -74, 105, -4, 0, -103, -83, -3, 124, -127, 12, -34, -16, -70, 
  -14, 25, 13, -123, -1, -2, -59, 34, -3, -2, 31, -5, -34, 10, -9, -60, -127, 24, -113, -94, 
  -26, -75, 47, -37, 36, 3, 9, -90, 3, -4, -15, -5, 23, -19, -43, -41, 28, 0, -32, 28, 
  -13, 2, -66, 9, -67, -127, -127, -4, 10, 36, -48, 17, -20, -17, -29, -60, 127, -14, -49, -127, 
  4, -44, -44, -95, -35, -13, -1, 11, -51, -5, -39, -9, 15, -47, -84, 28, -127, -4, -1, 92, 
  -127, 6, 0, -57, 10, -16, -113, -127, 22, 59, -10, -26, -89, -127, 98, 17, -42, -33, 56, -122, 
  -28, 1, 13, 11, -125, -20, 17, -8, 4, -127, -62, -30, -2, -5, -28, -6, -34, -17, -59, 10, 
  -12, -4, 77, 47, -127, -33, 34, 127, -8, -11, -5, -112, -127, -30, 105, 97, 0, 6, -104, -13, 
  -38, -48, -15, -22, -54, -81, -97, 38, 4, -1, 17, -17, -1, -9, -99, 0, -25, -63, 21, -29, 
  2, -127, 20, -8, -73, -9, -127, 2, -9, -36, 49, -43, -7, -76, -51, 2, -47, -53, -65, 6, 
  -3, -3, -45, -58, 87, 127, -101, -48, -5, -127, -26, -9, -15, 43, -21, -19, -111, -15, 6, -10, 
  21, -127, -27, 127, -2, 28, -17, 61, 7, -9, -4, 8, -22, -10, -18, -24, -11, -11, 1, -4, 
  -127, -50, -56, 36, -47, -3, 15, -127, 33, 10, -35, -92, -33, -32, 7, 13, 9, -52, 11, 3, 
  -17, -33, -20, 6, -36, -18, 12, -127, 33, -2, 88, 25, -4, -20, -127, 86, -42, 5, 22, -1, 
  -12, -16, 27, 127, -17, -89, -127, -127, -24, -29, 2, -1, -29, -15, -45, -87, 1, -9, -13, 60, 
  -36, 8, -32, -5, -127, -127, -42, -2, -30, 6, 9, -1, -127, -35, 18, 127, 21, -21, 33, -57, 
  -21, 12, -48, 25, -27, -80, 19, -58, -30, -2, -127, -43, 56, 20, -127, -4, -98, -80, -11, 7, 
  33, 1, -2, -49, -127, -16, -127, -26, -3, 4, 50, 59, -16, -48, 9, -7, 2, 4, 17, 4, 
  -127, 9, 66, 29, -96, 12, -21, 43, -22, -12, -127, 127, 17, -15, 43, -13, 89, -56, -127, -127, 
  8, -6, -2, -33, 127, -105, -3, 10, 4, 29, 10, 24, 8, -30, 1, -42, 22, 10, 32, -88, 
  -10, 19, -38, 6, 20, -18, -1, 21, -24, 3, 72, -2
};

#if HAS_BIAS
alignas(16) static NS_PUT_IN_TCM int32_t dw_17_bias[] = {
  14, -260, -404, -95, -209, -459, -149, -1159, -327, -256, -303, -310, -207, -6, -3005, 1582, -2241, -326, -288, -344, 
  -180, -245, -204, -199, -285, -212, -297, -919, -225, -275, -396, -2955, -282, -222, -312, -209, -303, -274, -156, -256, 
  -257, -135, -353, -369, -255, -334, -210, -89, -5094, -42, 4909, -316, -120, -368, -191, -388, -72, -338, -238, -220, 
  -269, -192, -384, -269, -439, -413, -437, -2046, -216, -163, -182, -5894, -218, -201, -183, -237, -212, -133, 3431, -438, 
  -2618, -4720, -172, -3997, -262, -48, 472, -1254, -1608, -276, -5155, -464, -931, -253, -139, 2, -239, -135, -3538, -193, 
  -513, 3768, 160, -110, -207, -213, -173, 564, -2078, -4327, -168, -448, -304, -256, -8307, 196, -88, -311, -413, -914, 
  -250, -183, -215, -400, -196, -148, -6674, -4953
};
#else
static NS_PUT_IN_TCM int32_t *dw_17_bias = NULL;
#endif

alignas(16) static NS_PUT_IN_TCM int8_t dw_17_scratch_buffer[SCRATCH_BUFFER_SIZE];

static cmsis_nn_context dw_17_context = {
    .buf = dw_17_scratch_buffer,
    .size = sizeof(dw_17_scratch_buffer),
};


int32_t aot_depthwise_conv_17_init(void)
{
    return 0;
}

const cmsis_nn_per_channel_quant_params dw_17_quant_params = {
    .multiplier = (int32_t*)dw_17_multiplier,
    .shift = (int32_t*)dw_17_shift,
};

const cmsis_nn_dw_conv_params dw_17_dw_conv_params = {
    .input_offset = -dw_17_input_zero_point,
    .output_offset = dw_17_output_zero_point,
    .ch_mult = 1,
    .stride.w = 1,
    .stride.h = 1,
    .padding.w = 1,
    .padding.h = 1,
    .dilation.w = 1,
    .dilation.h = 1,
    .activation.min = -128,
    .activation.max = 127,
};

int32_t aot_depthwise_conv_17_run(const int8_t* __restrict input, int8_t* __restrict output)
{

    return arm_depthwise_conv_wrapper_s8(
        &dw_17_context,
        &dw_17_dw_conv_params,
        &dw_17_quant_params,
        &dw_17_input_dims,
        input,
        &dw_17_filter_dims,
        dw_17_weights,
        &dw_17_bias_dims,
        dw_17_bias,
        &dw_17_output_dims,
        output
    );

}
