/******************************************************************************
 * @file        aot_depthwise_conv_15.c
 * @brief       Autogenerated AOT DEPTHWISE_CONV_2D kernel
 * @details     This file was generated by HeliosAOT v0.2.2 on 2025-06-04.
 *   This kernel represents node #15 in the corresponding graph.
 *
 * @date        2025-06-04
 *
 * @copyright
 *   © 2025 Ambiq. All rights reserved.
 *
 *   This generated C module is licensed for use **only** on Ambiq hardware
 *   incorporating Ambiq’s sub-threshold power optimized technology.
 *   Any other use is strictly prohibited.
 *
 *   See “LICENSE.txt” at the root of this distribution for full terms.
 *
 * @note        Do not edit this file—any changes will be overwritten.
 ******************************************************************************/

#include <stdalign.h>
#include "ns_ambiqsuite_harness.h"
#include "arm_nnfunctions.h"
#include "arm_nnsupportfunctions.h"
#include "aot_depthwise_conv_15.h"

#if defined(ARM_MATH_MVEI)
#define SCRATCH_BUFFER_SIZE 4464
#elif defined(ARM_MATH_DSP)
#define SCRATCH_BUFFER_SIZE 0
#else
#define SCRATCH_BUFFER_SIZE 0
#endif

#define HAS_BIAS 1

// Input dimensions: input shape is [1, H_IN, W_IN, C_IN]
static const cmsis_nn_dims dw_15_input_dims = { .n = 1, .h = 6, .w = 6, .c = 128 };

// Filter dimensions: weights shape is [1, H_FILT, W_FILT, C_OUT].
static const cmsis_nn_dims dw_15_filter_dims = { .n = 1, .h = 3, .w = 3, .c = 128 };

// Bias dimensions: bias shape is [1, 1, 1, C_OUT].
static const cmsis_nn_dims dw_15_bias_dims = { .n = 1, .h = 1, .w = 1, .c = 128 };

// Output dimensions: output shape is [1, H_OUT, W_OUT, C_OUT].
static const cmsis_nn_dims dw_15_output_dims = { .n = 1, .h = 6, .w = 6, .c = 128 };

// Quantization parameters (per-channel quantization)
static const int32_t dw_15_multiplier[128] = {
  1961680817, 1724449673, 1576272086, 1373950163, 1639611337, 1946550325, 1501817453, 2017160679, 1567597360, 1640222881, 1963649303, 1095522521, 1195073139, 1564395746, 1366183802, 1565738132, 1653216398, 2070371553, 1078714090, 1885916593, 
  1964653206, 1661419456, 1991265168, 1088994391, 1147136855, 1838695339, 1097237940, 1513641925, 1175700655, 1323405990, 1673646325, 1419953515, 1201872825, 1539245299, 1252928988, 1225696446, 1340608369, 2122136137, 1084990993, 1623513585, 
  1334872737, 1538542902, 1480515636, 1096632670, 1232900287, 2012437817, 1666606288, 1084027999, 1918982647, 1204031634, 1678618490, 1168219821, 1171509277, 1354271238, 1918745726, 1119088725, 1421995621, 2071969097, 1738150941, 1185520500, 
  1719829042, 1998633984, 1937065450, 1941839009, 2053929462, 1393745038, 1601380369, 2114156279, 1171689896, 1320218263, 1094188669, 1939743194, 1805707588, 1107213975, 1891475036, 1937939013, 1721406675, 2063999111, 2127315942, 1758263970, 
  1667591285, 1257433584, 1353743771, 2002745636, 1638332867, 1338468383, 1164886110, 2093309230, 1750233750, 1105485840, 1281531104, 1427036720, 1873717331, 1556072888, 1646509322, 1973328434, 1568095631, 1508102053, 1343370525, 1735771021, 
  1685796229, 1372769322, 1224686938, 1516452853, 1354642347, 1351543132, 1088174871, 1336792534, 1666829322, 1276275338, 1411206508, 1236266708, 1377035491, 1084907418, 1857243450, 1497365646, 1985047161, 2080527705, 1127444377, 1775469528, 
  1365783244, 1217723616, 1267245983, 1419604993, 1212769522, 1358606342, 1288512915, 1356883812
};
static const int32_t dw_15_shift[128] = {
  -5, -8, -7, -7, -7, -5, -7, -8, -8, -7, -4, -6, -4, -4, -4, -7, -8, -5, -4, -7, 
  -5, -8, -5, -4, -4, -8, -5, -4, -4, -4, -7, -8, -7, -7, -7, -7, -4, -8, -7, -7, 
  -4, -7, -5, -7, -5, -7, -8, -4, -7, -4, -7, -4, -4, -8, -8, -4, -4, -5, -7, -5, 
  -7, -8, -8, -5, -8, -5, -8, -8, -5, -4, -7, -5, -4, -5, -4, -5, -5, -4, -7, -5, 
  -7, -5, -8, -5, -6, -4, -4, -6, -5, -4, -4, -4, -8, -8, -7, -5, -8, -8, -5, -5, 
  -7, -7, -5, -8, -4, -7, -4, -7, -5, -4, -4, -4, -4, -4, -5, -5, -8, -5, -4, -5, 
  -5, -6, -5, -7, -7, -4, -4, -7
};

// Offsets and activation parameters.
static const int32_t dw_15_input_zero_point = -128;
static const int32_t dw_15_output_zero_point = -128;


// Weight and bias data.
alignas(16) static NS_PUT_IN_TCM int8_t dw_15_weights[] = {
  -14, -71, -13, 89, 5, -20, 0, -41, -127, 127, -41, 127, -127, -116, 9, 91, -88, -5, -61, 92, 
  12, 108, -37, -28, -127, 9, -32, -23, -18, 16, 56, 127, -12, -89, 36, 127, 5, -76, 20, -127, 
  -127, 127, -44, 127, -127, -18, -88, -63, -39, -32, -13, -4, -115, -123, 71, -14, -6, -35, -111, -127, 
  -107, 9, -124, -127, -33, -127, 73, -12, 55, -127, 116, -54, -16, -26, -90, -58, -127, -53, -14, -14, 
  127, -39, -65, -127, 44, -127, 5, -27, -76, -50, -48, -76, -4, 44, 31, -127, 103, 56, -59, -127, 
  -21, -119, 10, 70, -127, 127, 13, 37, -127, -15, 15, -127, -16, -84, -17, -6, -127, -20, -127, -3, 
  -127, -22, 15, -23, -35, -127, 9, 127, -15, -107, 23, 62, 25, 21, 49, -26, -56, -24, -47, 13, 
  16, -81, 15, -15, 5, 10, -40, 127, -16, 43, 0, -127, -107, 69, -2, -50, -127, -109, 72, 107, 
  26, 66, 127, 43, 11, -106, -50, 23, -109, 19, 44, 54, -121, -94, -13, -44, -60, 14, 18, -14, 
  -108, 16, -56, -24, -15, -20, -34, -6, -14, -26, -60, -118, -18, 6, -3, -12, 46, -21, 28, 10, 
  -5, 11, -73, 14, -44, 3, -32, 8, -24, -108, 53, -93, -108, -8, -35, 39, -127, 29, 15, -1, 
  -38, -45, 127, 7, 127, 46, 11, -50, -56, -3, -74, -7, -60, 70, 0, -6, -18, 12, -47, 20, 
  31, 0, -12, -77, 16, -127, -65, 25, -7, 12, -10, 57, 0, -108, -21, 71, -41, -94, 127, 63, 
  102, -11, 22, -95, -127, -73, -127, -16, 6, -127, -46, -32, 42, -127, -127, -22, -123, 62, -40, -35, 
  -46, 41, -46, -127, -65, -127, 38, 40, 44, 127, 82, 19, -3, 16, 3, -38, -91, 119, -25, 103, 
  3, -41, 67, 23, -127, 11, -44, 0, -113, 101, -127, 5, -82, 16, 75, 2, -41, -12, 33, -72, 
  44, 1, -97, 36, -10, -55, -108, -45, -127, -127, -7, -6, -65, 7, -40, 8, 124, -35, -105, 0, 
  -84, 9, -127, -116, -106, -71, -127, -10, -17, 51, -5, 7, 123, 127, -27, -51, -15, -23, -24, 3, 
  -64, 72, -9, -127, -71, -36, 16, -13, -8, -1, -59, -127, -17, -93, -43, -84, 22, -4, -39, 17, 
  -27, 28, -13, 2, -3, 69, -118, 28, -85, -75, -21, 127, 93, 66, -26, -14, -68, -55, -22, 127, 
  50, -11, 8, 29, 14, 127, 12, -10, -12, 20, -11, -2, 9, -7, 35, -41, -15, -5, -28, 9, 
  6, 7, -19, -113, -4, 54, -97, 54, -10, 127, -79, -12, 1, 20, 76, 16, -10, 45, -18, -127, 
  -8, -29, 39, -47, 36, 30, -73, 2, 7, -124, 63, -70, -28, -90, 100, -127, 4, 9, -52, -43, 
  -10, 14, 39, -41, 18, 17, -83, -92, 2, -2, 3, 22, -3, 18, -26, -127, -18, 72, -10, -28, 
  70, 40, -127, 13, 0, -85, -18, 49, 25, 13, -14, -39, -13, 6, -49, -46, -56, -112, 16, 41, 
  -66, -10, -24, -32, -122, -16, -111, -70, 19, -123, -42, 34, 16, 110, -42, 16, -28, -38, -25, 63, 
  37, 53, 9, -44, -14, -9, -54, 10, 76, 5, 21, -40, -64, 66, 12, 10, 19, 127, -76, 17, 
  -23, -53, 60, -88, 98, 38, -7, -18, -20, 21, -12, 66, 25, -94, -47, 116, -4, 73, -76, -35, 
  27, -20, -13, -6, 15, 91, 30, -87, 18, -20, 127, -3, 127, -1, -1, 12, 24, -13, 17, -6, 
  127, 11, 65, -4, 6, -7, -53, 15, -23, -50, 29, 12, -14, -17, 127, 13, -127, -2, -20, -127, 
  -56, -38, -13, -9, 11, -127, -8, -7, 91, 33, -8, 27, -25, 19, 23, -75, 6, -20, -39, -61, 
  20, -20, -58, -25, -64, 25, -127, -13, 27, -27, -37, -94, -17, -16, 27, 15, 50, -63, 20, 39, 
  -127, 127, 85, -20, 54, 6, -51, 91, 86, -22, -20, -34, -22, -18, -86, -2, 76, -72, -42, -34, 
  -127, 48, -125, -12, -22, -37, 30, -21, 20, 24, 4, -55, 25, 59, 35, -5, -14, 127, 106, -49, 
  -22, 4, -66, 62, 5, -42, 127, -25, 77, -69, -13, -25, -21, -127, -88, -12, -127, -42, -13, 0, 
  -42, 30, -43, -123, 127, -25, -101, -15, 18, -4, -100, 16, -21, -65, 34, -28, -9, -4, 7, -37, 
  72, -127, -68, 31, 49, -13, 12, -2, -87, -127, -39, -1, 26, 26, -6, 4, 84, -2, -37, -101, 
  -20, -23, -127, 30, -72, 6, 18, -59, -36, -127, 4, -24, -35, -127, -59, -101, -43, -5, 43, -127, 
  -3, -58, 5, 94, 51, -2, -28, 35, -10, -63, 22, -118, 3, -127, 85, 56, 77, 13, 12, 13, 
  -10, -10, -28, -24, 70, -13, -34, -74, 1, -14, -36, 6, 7, 76, -12, -2, -28, -19, -39, -10, 
  -1, 55, 0, 43, -40, 1, 1, -99, 2, 91, -127, -38, 17, -64, -3, -36, -59, -5, 118, -127, 
  -17, 76, -108, -80, -19, -16, 109, -10, -22, 22, -127, -34, 0, -6, 127, -127, 59, -17, 127, -70, 
  -5, 0, 34, 0, 9, -3, 127, -127, 24, -40, -90, -104, -30, -96, -22, -100, -3, -5, 15, -61, 
  40, 61, -2, -57, -5, -54, -93, -9, 80, -51, -17, 127, 6, -20, -72, -27, -35, 7, -67, 25, 
  -59, 28, -2, -27, -98, 15, 17, 17, 5, 127, -89, -127, -19, -40, -127, -46, -4, -24, -7, -66, 
  2, -68, 127, 54, 100, -41, 11, 67, -31, -35, -46, 3, 91, 6, -9, 28, -32, -21, 5, -33, 
  -21, 88, -15, -10, 24, -25, -76, -32, 127, -65, -100, -3, -127, 38, 68, 101, 4, -6, -30, 9, 
  -15, 5, -65, -38, -56, -58, -127, -53, 19, -36, 19, -74, 3, -127, 80, 3, 17, 111, 6, 6, 
  49, 11, 90, -29, 51, -18, 114, -35, -1, -23, -127, -127, 14, -79, 63, -51, 10, 26, 22, -38, 
  -86, -4, 8, -83, 2, -73, -27, 13, 127, -106, -39, -29, -5, -76, -23, -22, 127, 127, -34, -28, 
  0, 14, -127, -3, -36, 14, -127, 0, -127, -43, -31, -24, -34, 6, -14, -66, 14, 55, -39, -80, 
  22, -28, -24, -3, -62, -21, 102, -127, 127, -2, 21, 70, 124, -15, -27, 74, 0, 29, -127, 10, 
  127, -60, -6, 43, -29, -46, -127, 12, 17, -74, -127, 5, -28, -11, -127, -57, 32, -48, -102, -16, 
  -84, -6, 127, -47, -11, 8, 27, -23, 7, -35, 29, -127, 27, -127, -25, -7, -127, -109, 126, 17, 
  -109, -36, -51, -4, -98, 127, -41, -95, 108, -16, 46, -85, -5, 22, -75, -14, 4, -26, -9, -7, 
  -3, -127, 32, 12, 43, -100, -1, -78, 7, 5, -5, 26, 18, -99, 6, -7, 111, 26, -25, -16, 
  -48, -111, 34, -61, 31, 89, -32, 110, -93, 64, -98, 17, 20, -115, -78, -22, -57, -3, -66, -17, 
  -13, -34, -53, -24, -20, -1, -127, 65, 127, -13, -8, -16
};

#if HAS_BIAS
alignas(16) static NS_PUT_IN_TCM int32_t dw_15_bias[] = {
  -378, -3377, -795, -452, -1398, -438, -719, -8359, -9711, -2539, -272, -941, -308, -309, -375, -1063, -12206, -347, -302, 147, 
  -396, -7893, -427, -324, -373, -5075, -599, -241, -264, -270, -1628, -2862, -4524, -3418, -1048, -5327, -246, -4965, -4931, 4536, 
  -324, -5773, -635, -7002, -15, -963, 2684, -290, 2485, -277, 188, -376, -434, -778, 545, -326, -313, -400, -3454, 24, 
  -400, -4906, 767, 17, -5268, 106, -5609, 7812, -1481, -335, -1702, -385, -151, 50, -336, -433, 25, -243, -2764, -395, 
  -4267, -418, -2354, -170, 1080, -24, -303, -682, -419, -355, -322, -228, -6976, 1940, -178, -348, -11059, -3816, 10, -385, 
  -2676, 829, 164, -9890, -406, -5899, -360, -1306, -487, -233, -351, -308, -419, -506, -400, -303, -1395, -69, -332, 258, 
  -365, -1589, 29, -133, -3791, -389, -331, -4027
};
#else
static NS_PUT_IN_TCM int32_t *dw_15_bias = NULL;
#endif

alignas(16) static NS_PUT_IN_TCM int8_t dw_15_scratch_buffer[SCRATCH_BUFFER_SIZE];

static cmsis_nn_context dw_15_context = {
    .buf = dw_15_scratch_buffer,
    .size = sizeof(dw_15_scratch_buffer),
};


int32_t aot_depthwise_conv_15_init(void)
{
    return 0;
}

const cmsis_nn_per_channel_quant_params dw_15_quant_params = {
    .multiplier = (int32_t*)dw_15_multiplier,
    .shift = (int32_t*)dw_15_shift,
};

const cmsis_nn_dw_conv_params dw_15_dw_conv_params = {
    .input_offset = -dw_15_input_zero_point,
    .output_offset = dw_15_output_zero_point,
    .ch_mult = 1,
    .stride.w = 1,
    .stride.h = 1,
    .padding.w = 1,
    .padding.h = 1,
    .dilation.w = 1,
    .dilation.h = 1,
    .activation.min = -128,
    .activation.max = 127,
};

int32_t aot_depthwise_conv_15_run(const int8_t* __restrict input, int8_t* __restrict output)
{

    return arm_depthwise_conv_wrapper_s8(
        &dw_15_context,
        &dw_15_dw_conv_params,
        &dw_15_quant_params,
        &dw_15_input_dims,
        input,
        &dw_15_filter_dims,
        dw_15_weights,
        &dw_15_bias_dims,
        dw_15_bias,
        &dw_15_output_dims,
        output
    );

}
